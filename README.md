# 편의점

# 🏪 웹 기반 편의점 결제 시스템

## 📌 프로젝트 개요

우테코 프리코스 7기에서 진행했던 **콘솔 기반 편의점 미션을 웹 환경에서 발전시킨 프로젝트**입니다.

기존 콘솔 프로그램의 한계를 넘어, 실제 웹 환경에서 동작하는 시스템을 구현해 제공하는 것을 목표로 했습니다.

사용자는 웹 UI에서 상품을 선택하고, 프로모션과 멤버십 할인 정책이 반영된 결제를 진행하며, 구매 내역은 영수증 UI 형태로 확인할 수 있습니다.

또한 모든 재고는 데이터베이스와 연동되어 실시간으로 업데이트됩니다.

---

## 📌 구현 기능

### 1. 상품 관리 및 재고 반영

- 모든 상품 정보는 데이터베이스에서 관리된다.
- 웹 장바구니 UI에서 담을 수 있는 양은 “현재 재고 수량”을 기준으로 제한된다.
  - 실제와 같이 장바구니에서 제거하는 기능도 만든다.
- 결제 완료 시 구매 수량만큼 재고를 즉시 차감한다.
- 결제 후 “계속 이용하기”를 누르면 추가적으로 편의점을 이용할 수 있다.

---

### 2. 프로모션 할인 적용

### ✔ 프로모션 조건

- 1+1 또는 2+1 형태의 **N개 구매 시 1개 증정** 정책을 따른다.
- 프로모션은 상품 단위로 적용되며, 동일 상품에 여러 프로모션이 중복 적용되지 않는다.
- 오늘 날짜가 프로모션 기간 내 포함된 경우에만 적용된다.

### ✔ 프로모션 상품 누락 안내

- 프로모션 조건보다 적은 수량을 담은 경우, 부족한 수량(항상 1개)을 알려준다.
  - ex) 1+1 상품임에도 1개만 담은 경우 프로모션 혜택으로 1개 증정받을 수 있음을 안내한다. 
- 사용자는 추가로 담아올지 "예", "아니오"의 형태로 선택할 수 있다.
- 여러 상품이 누락되는 경우를 주의한다.

### ✔ 프로모션 상품 재고 부족 안내

- 증정 수량을 채우지 못할 만큼 재고가 부족한 경우, 프로모션이 적용되지 않음을 안내한다.
  - ex) 1+1 상품임에도 1개만 담음 + 재고 고갈 > 프로모션 혜택을 받을 수 없음을 안내한다. 
- 사용자는 무시하고 결제할 수도 있고, 혜택을 받을 수 없으니 결제를 취소할 수도 있다.
- 이 역시 여러 상품에서 동시에 재고 부족이 발생할 수 있다.

---

### 3. 멤버십 할인

- 프로모션이 적용되지 않은 상품에 한해서만 **10% 할인을 적용**한다.
- 할인 한도는 **최대 8,000원**이다.

---

### 4. 결제 및 영수증

### ✔ 영수증에는 다음 항목이 포함된다.

- 구매한 모든 상품 목록
- 증정된 프로모션 상품 목록
- 상품별 구매 금액
- 프로모션 할인 금액
- 멤버십 할인 금액
- 최종 결제 금액

### ✔ 결제 UI 흐름

1. 사용자가 상품을 장바구니에 담고 결제 버튼을 누른다.
2. 프로모션 상품에 대한 이슈가 발생하면 이에 대한 안내 메시지를 안내한다.
3. 사용자 선택에 따라 결제 진행를 진행하거나 취소 후 다른 로직을 진행한다.
4. 이슈가 모두 해결된 경우에만 멤버십 할인을 받을 것인지 안내한다.
5. 최종 결제 처리하고 영수증을 출력한다.
6. “계속 이용하기” 선택 시 재고 갱신 후 쇼핑 화면으로 복귀한다.

---

## 📌 예외·에러 처리 흐름

### 1. 프로모션 관련 예외 상황

- 프로모션 조건보다 적은 수량을 담은 경우

  → “추가 담기 안내” 표시

- 증정 재고 부족으로 프로모션이 적용되지 않는 경우

  → “재고 부족 안내” 표시


사용자는 각 항목에 대해 “예/아니요”를 선택할 수 있다.

---

### 2. 데이터 관련 예외 상황

- 존재하지 않는 상품 ID
- 유효하지 않은 입력 데이터
- DB와 UI 재고 불일치 상황

---

### 3. 추가 예외 사항

- 장바구니가 빈 상황에서 결제 시도한 경우

---

## 📌 프로젝트 목표

- **실제 편의점 결제 흐름을 웹에서 구현**
- **사용자 선택에 따른 상태 전이(State Transition)를 명확히 설계**
- **프로모션 및 멤버십 할인 정책을 체계적으로 모델링**
- **DB 기반 재고 관리의 일관성 확보**
- **UI/서버의 역할을 명확히 분리**

---

## 간단한 주제 선정이유
이번 오픈미션은 진심으로 참여한 사람들의 도전과 배움을 평가에 더 반영하기 위한 것이라고 이해했습니다.
각자가 스스로 정의한 도전에 부딪혀보면서 얼마나 깊이 고민했고 무엇을 배웠는지, 그 과정을 통해 어떤 방향으로
성장해 가고 있는지를 제 스스로 확인하고 다져 가는 것, 그리고 앞으로도 계속 발전할 수 있는 사람이 되는 것이
이 오픈미션에서 제가 가장 중요하게 두는 가치입니다.

저에게 의미 있는 도전이 무엇인지 고민해 봤을 때, 새로운 언어나 도구를 쓰는 것처럼 뭔가 특별한 도전도 색다른 경험으로써
충분히 훌륭한 가치를 얻을 수 있겠지만, 백엔드 개발자 지망생으로서 꼭 필요한 기본기(스프링, DB, 웹 애플리케이션)를
제대로 경험해 보는 것이 먼저라고 판단했습니다. 실제로 스프링과 DB를 활용해 웹 환경에서 돌아가는 무언가를
스스로 설계·구현해 본 경험이 너무 부족했습니다. 작년 편의점 미션을 온전히 완성하지 못했다는 아쉬움도 마음에 남아 있었기에
이번 오픈미션을 통해 이를 활용해보는 것도 좋은 공부가 될 것이라고 생각했습니다. 그대로 반복하는 것이 아니라 더 발전된 형태로,
즉 “웹 서비스” 수준으로 확장·재해석하는 것을 제 도전으로 삼았습니다.

이처럼 제가 선택한 방향은 “새로운 도전을 통해 무엇을 배웠나?”보다는, 실제 서비스 수준보다는 부족할지라도 그 흐름을
스스로 설계해보고, 도메인과 웹, DB를 엮어내는 기본기를 더욱 깊게 다지기 위한 도전입니다.이 과정을 통해
제가 어떤 방식으로 문제를 분석하고, 설계하고, 시행착오를 겪으며 유의미한 성장 그 자체를 원했습니다.